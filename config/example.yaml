# Sovra Configuration Example
#
# This file provides an example configuration for Sovra services.
# You can override these settings using environment variables.
# For example, to override the database host, set the SOVRA_DATABASE_HOST environment variable.

# Service identification
# service: api-gateway, audit-service, etc.
service: "api-gateway"
org_id: "org-a"
log_level: "info"
log_format: "json"

# Server configuration
server:
  host: "0.0.0.0"
  port: 8080
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 120s
  tls_enabled: true
  tls_cert_file: "/path/to/server.crt"
  tls_key_file: "/path/to/server.key"
  mtls_enabled: false
  tls_ca_file: "/path/to/ca.crt"

# Database configuration
database:
  host: "postgres.example.com"
  port: 5432
  database: "sovra"
  username: "sovra"
  password: "changeme"
  ssl_mode: "require"
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 5m

# Vault configuration
vault:
  address: "http://localhost:8200"
  token: "root"
  namespace: ""
  tls_enabled: false
  tls_ca_file: ""
  tls_cert_file: ""
  tls_key_file: ""
  transit_mount: "transit"
  pki_mount: "pki"

# OPA (Open Policy Agent) configuration
opa:
  address: "http://localhost:8181"
  timeout: 5s

# Federation configuration
federation:
  enabled: true
  health_interval: 30s
  certificate_expiry: 8760h # 1 year

# Telemetry configuration
telemetry:
  enabled: false
  service_name: "sovra"
  service_version: "1.0.0"
  endpoint: "localhost:4318"
  sample_rate: 1.0
